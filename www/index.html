<!DOCTYPE html>
<!-- Designed and developed by Business Solution Apps team v -->
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Grameenphone</title>
        
        <link rel="stylesheet" href="static/my.css"  />
		
		<link rel="stylesheet" href="static/themes/c.min.css" />
		<link rel="stylesheet" href="static/themes/jquery.mobile.icons.min.css" />
        
        <link rel="stylesheet" href="static/jquery.mobile-1.4.0/jquery.mobile-1.4.0.min.css" />
        <script src="static/jquery/1.10.2/jquery-1.10.2.min.js">   </script>
        <script src="static/jquery.mobile-1.4.0/jquery.mobile-1.4.0.min.js">   </script>
		<script src="static/survey.js">  </script>
		
        <style>
		/*.ui-content{ background-color:#484848}*/
				.custom-size-flipswitch.ui-flipswitch .ui-btn.ui-flipswitch-on {
			text-indent: -5.9em;
		}
		.custom-size-flipswitch.ui-flipswitch .ui-flipswitch-off {
			text-indent: 0.5em;
		}
		/* Custom widths are needed because the length of custom labels differs from
		   the length of the standard labels */
		.custom-size-flipswitch.ui-flipswitch {
			width: 8.875em;
		}
		.custom-size-flipswitch.ui-flipswitch.ui-flipswitch-active {
			padding-left: 7em;
			width: 1.875em;
		}
		@media (min-width: 28em) {
			// Repeated from rule .ui-flipswitch above
			.ui-field-contain > label + .custom-size-flipswitch.ui-flipswitch {
				width: 1.875em;
			}
		}
		input[type=number],input[type=text]{ background-color:#F4FFFF;}
		
		.full-width-slider input {
			display: none;
			
		}
		.full-width-slider .ui-slider-track {
			margin-left: 15px;
			
		}
	</style>
   
   <script>     
    $(document).ready(function(){
		
		$("#wait_image_login").hide();
		
		$("#wait_visit_submit").hide();
		$("#btn_visit_submit").show();
		
		$("#client_org_others_id").hide();
		$("#visit_type_others_id").hide();
		
		$('#wait_lastFiveVisit').hide();
		$('#btn_lastFiveVisit').show();
		
		$('#wait_report_summary').hide();
		$('#btn_report_summary').show();
		
		$('#wait_change_password').hide();
		$('#btn_change_password').show();
		
		first_page();
		
		//addClientList();				
		//addVisitTypeList();				
		
		//$("#rpt_rep_div_id").html(localStorage.repListShowReport);
		
		//$("#client_org_others_id").val("");
		//$("#visit_type_others_id").val("");
		//$("#remarks_id").val("");
		
	  //================
  				
	});    
	
	function checkOthersComp(){
				var clientOrgValue=$("#client_org_id").val();
				if (clientOrgValue=='Others'){
					$("#client_org_others_id").show();
				}else{
					$("#client_org_others_id").hide();
					$("#client_org_others_id").val("");
					}
		}; 
	function checkOthersVisitType(){
				var visitTypeValue=$("#visit_type_id").val();
				if (visitTypeValue=='Others'){
					$("#visit_type_others_id").show();
				}else{
					$("#visit_type_others_id").hide();
					$("#visit_type_others_id").val("");
					}
		}; 
	
	</script>	
  
  <!--==============client/org select===========-->
	<script>
	$.mobile.document.on( "listviewcreate", "#client_org_id-menu", function( e ) {
        var input,
            listbox = $( "#client_org_id-listbox" ),
            form = listbox.jqmData( "filter-form" ),
            listview = $( e.target );
        if ( !form ) {
            input = $( "<input id='clientSearch' data-type='search'></input><br>" );
            form = $( "<form></form>" ).append(input );
            input.textinput();
            $( "#client_org_id-listbox" )
                .prepend( form )
                .jqmData( "filter-form", form );
        }
        listview.filterable({ input: input });
    })
    .on( "pagebeforeshow pagehide", "#client_org_id-dialog", function( e ) {
        var form = $( "#client_org_id-listbox" ).jqmData( "filter-form" ),
            placeInDialog = ( e.type === "pagebeforeshow" ),
            destination = placeInDialog ? $( e.target ).find( ".ui-content" ) : $( "#client_org_id-listbox" );
        form
            .find( "input" )
            .textinput( "option", "inset", !placeInDialog )
            .end()
            .prependTo( destination );
    });
	
    
    <!--==============client/org select for visit log report===========-->
	
	$.mobile.document.on( "listviewcreate", "#rpt_client_org_id-menu", function( e ) {
        var input,
            listbox = $( "#rpt_client_org_id-listbox" ),
            form = listbox.jqmData( "filter-form" ),
            listview = $( e.target );
        if ( !form ) {
            input = $( "<input id='clientSearch' data-type='search'></input><br>" );
            form = $( "<form></form>" ).append( input );
            input.textinput();
            $( "#rpt_client_org_id-listbox" )
                .prepend( form )
                .jqmData( "filter-form", form );
        }
        listview.filterable({ input: input });
    })
    .on( "pagebeforeshow pagehide", "#rpt_client_org_id-dialog", function( e ) {
        var form = $( "#rpt_client_org_id-listbox" ).jqmData( "filter-form" ),
            placeInDialog = ( e.type === "pagebeforeshow" ),
            destination = placeInDialog ? $( e.target ).find( ".ui-content" ) : $( "#rpt_client_org_id-listbox" );
        form
            .find( "input" )
            .textinput( "option", "inset", !placeInDialog )
            .end()
            .prependTo( destination );
    });
	
	
	<!--==============KAM select for visit report===========-->	
	$.mobile.document.on( "listviewcreate", "#rpt_rep_id-menu", function( e ) {
        var input,
            listbox = $( "#rpt_rep_id-listbox" ),
            form = listbox.jqmData( "filter-form" ),
            listview = $( e.target );
        if ( !form ) {
            input = $( "<input id='clientSearch' data-type='search'></input><br>" );
            form = $( "<form></form>" ).append( input );
            input.textinput();
            $( "#rpt_rep_id-listbox" )
                .prepend( form )
                .jqmData( "filter-form", form );
        }
        listview.filterable({ input: input });
    })
    .on( "pagebeforeshow pagehide", "#rpt_rep_id-dialog", function( e ) {
        var form = $( "#rpt_rep_id-listbox" ).jqmData( "filter-form" ),
            placeInDialog = ( e.type === "pagebeforeshow" ),
            destination = placeInDialog ? $( e.target ).find( ".ui-content" ) : $( "#rpt_rep_id-listbox" );
        form
            .find( "input" )
            .textinput( "option", "inset", !placeInDialog )
            .end()
            .prependTo( destination );
    });
	
	</script>
    
    </head>
    

    <body>  

     	<!--  ================= login page=================  -->        
        <div data-theme="c" data-role="page" id="login"   >
            <div data-theme="c" data-role="header" data-position="fixed" >
			   <!--<a   href="#" ><img src="logo_gp_mn.jpg"></a>-->
               <!--<a data-role="button" class="ui-btn ui-shadow ui-corner-all ui-btn-icon-right ui-icon-power ui-btn-icon-notext " onClick="exit()" >Exit </a>-->
                <a  data-role="button" href="#menuPage" class="ui-btn-left ui-btn-icon-notext"><img height="15px;" src="gp_min_trans.png"></a>
                <a  data-role="button" onClick="exit();" class="ui-btn-right" style="padding:4px;"><img src="exit.png" style="height:25px; width:25px;"></a>
                <h3>Authorization</h3>
            </div>
			
			<div data-role="content">
            	<div id="error_login" style="color:#C00"></div>   
                
				<!--<font color="#CCFFCC" face="Arial, Helvetica, sans-serif" size="-1">     -->                    
				<input type="text" name="cm_id" id="cm_id" placeholder="ID" value="">
				<input type="password" name="cm_pass" id="cm_pass" placeholder="Pass" value="">
                <!--</font>   -->             
				</br>
				
                <div align="center"><img id="wait_image_login" height="50px" width="50px" src="loading.gif"></div>
                <a id="loginButton" data-role="button"  onClick="check_user()" >Sync</a>				
				
                <br><br><br><br><br><br><br><br><br><br>
                
                <input name="clear_auth_check" id="clear_auth_check" data-mini="true" type="checkbox" value="Yes">
                <label for="clear_auth_check">Confirm Clear Authorization</label>
                
                <a data-role="button" onClick="clear_autho();" >Clear Authorization</a>       
                <br><br><br><br><br><br>
                
            </div>
			
        </div><!--/login page-->
   
   
     <!--======================Menu page start==================-->        
        <div data-theme="c" data-role="page" id="menuPage"   >
           <div data-role="panel" id="routePanel" data-display="overlay" style="width:60%; background-color:#FFF">
				<!-- panel content goes here unilogo1.jpg-->
				<div align="center">
                <img style="width:100%" src="logo_gp.png" alt="GP" />
                <br>
				</div>
                
				<br><br><br><br>
                
				<ul data-role="listview">                    
                    <br><br>                    
                    <ul data-role="listview">                    
                        <br><br>
                        <div style="background:#008A8A; height:1px"></div>
                        <li ><div ><a href="#login" ><img src="sync.png"></a></div></li> 
                        <div style="background:#008A8A; height:1px"></div>
                    </ul>  
                    <ul data-role="listview">                    
                        <br><br>
                        <div style="background:#008A8A; height:1px"></div>
                        <li ><div ><a href="#change_password" ><img src="password.png"></a></div></li> 
                        <div style="background:#008A8A; height:1px"></div>
                    </ul>              
                </ul>
                
				<div style="margin:100%;"></div>
				
			</div><!-- /panel -->
            
            <div data-theme="c" data-role="header" data-position="fixed" >
			    <!--<a  data-role="button" href="#routePanel" class="ui-btn-left ui-btn-icon-notext"><img src="logo_gp_mn.jpg"></a>
                <a data-role="button" class="ui-btn ui-shadow ui-corner-all ui-btn-icon-right ui-icon-power ui-btn-icon-notext " onClick="exit()" >Exit </a>-->
                <a  data-role="button" href="#routePanel" class="ui-btn-left ui-btn-icon-notext"><img height="15px;" src="gp_min_trans.png"></a>
                <a  data-role="button" onClick="exit();" class="ui-btn-right" style="padding:4px;"><img src="exit.png" style="height:25px; width:25px;"></a>
                
                <h3>Home</h3>                
            </div>
            
			<div  data-role="content" >
                </br>
                </br>
                <a id="sub_button" data-role="button" style="height:80px;" onClick="visit_report()" ><img style="padding-top:0px; padding-bottom:0px;" src="visit.png"></a>
				<a id="sub_button" data-role="button" style="height:80px;" onClick="get_visitlog()" ><img src="visit_log.png"></a>                
                <a  id="sub_button" data-role="button" style="height:80px;" onClick="get_visit_reports()" ><img src="reports.png"></a>
                
                <!--<ul data-role="listview" data-inset="true">
                    <li ><a onClick="visit_report()"><img src="visit.png"></a></li>
                </ul>
                
                <ul data-role="listview" data-inset="true">
                	<li ><a onClick="get_visitlog()"><img src="visit_log.png"></a></li>                    
                </ul>
                
                <ul data-role="listview" data-inset="true">
                    <li ><a onClick="get_visit_reports()"><img src="reports.png"></a></li>                
                </ul>-->
                
                <br/>
                <br/>
                <br/>
                <br/>
	  		</div>
            
        </div>
    	
        <!--  ================= Visit =================  -->        
            <div data-theme="c" data-role="page" id="visit_page">
                <div data-theme="c" data-role="header" data-position="fixed" >
                    <a  data-role="button" href="#menuPage" class="ui-btn-left ui-btn-icon-notext"><img height="15px;" src="gp_min_trans.png"></a>
                    <a data-role="button" data-rel="back" data-icon="arrow-l" data-iconpos="left" class="ui-btn-right">Back</a>
                    <h3>Visit</h3>
                </div>
                
              <div  data-role="content" >
                <div id="error_visit_submit" style="color:#F03"></div>
                            	
                <div class="ui-grid-b">
                    <div class="ui-block-a">
                       <label style="background:#81C0C0"><input type="radio" name="RadioPeriod"  value="Today" id="radio_1">Today</label>                                 
                    </div>
                    <div class="ui-block-b">
                         <label style="background:#81C0C0"><input type="radio" name="RadioPeriod"  value="Yesterday" id="radio_2">Y.</label>            
                    </div>
                    <div class="ui-block-c">
                         <label style="background:#81C0C0"><input type="radio" name="RadioPeriod"  value="DBYesterday" id="radio_3">DBY</label>                                               
                    </div>                    
                </div>	
                <br>
				
                <div>	
                
                <select name="client_org_id" id="client_org_id" onChange="checkOthersComp()" data-native-menu="false" >                
                	<option value="0" >Name Of the Org.</option>
                </select>
                
				<input type="text" name="client_org_others_id" id="client_org_others_id" placeholder="Others Organization" style="height:auto;" value="">
                
                <select name="visit_type" id="visit_type_id" onChange="checkOthersVisitType()" data-native-menu="false">
                	<option value="0" >Visit Type</option>                	
                </select>
                
                <input type="text" name="visit_type_others_id" id="visit_type_others_id" placeholder="Others Visit Type" style="height:auto;" value="">
                
                <textarea type="text" name="remarks" id="remarks_id" placeholder="Remarks" value=""></textarea>
                 
                 <input type="hidden" name="lat" id="lat" placesholder="" value="">
			     <input type="hidden" name="long" id="long" placeholder="" value="">
                 
                 </div>	
                 </br>
                 </br>
                
        		<a id="btn_visit_submit" data-role="button" onClick="getlocationand_askhelp(); submit_data()" >Submit</a>
				<div align="center"><img id="wait_visit_submit" height="50px" width="50px" src="loading.gif"></div>
                
            	<br/><br/><br/><br/><br/>
            
	  		</div>
            
        </div>
        
     <!-- ============================ SUCCESS MESSAGE============================-->     
    <div data-theme="c" data-role="page" id="endPage">
		    <div data-theme="c" data-role="header" data-position="fixed" >
			    <a  data-role="button" onClick="visit_report()" class="ui-btn-left ui-btn-icon-notext"><img height="15px;" src="gp_min_trans.png"></a>
                <h3>Success</h3>
            </div>
		    
			<div  data-role="content" >
               	<div >Submitted Successfully</div>
                
                </br>
                </br>
        		<a id="sub_button" data-role="button" onClick="visit_report()" >New Visit</a>
				<a id="sub_button" data-role="button" href="#menuPage" >Home</a>
            
             <br/><br/><br/><br/><br/>
                
	  		</div>
	</div>
      
    <!-- ============================ Visit Log ============================-->     
    <div data-theme="c" data-role="page" id="visitlog_page">
		    <div data-theme="c" data-role="header" data-position="fixed" >
			     <a  data-role="button" href="#menuPage" class="ui-btn-left ui-btn-icon-notext"><img height="15px;" src="gp_min_trans.png"></a>
                <a data-role="button" data-rel="back" data-icon="arrow-l" data-iconpos="left" class="ui-btn-right">Back</a>
                <h3>Visit Log</h3>
            </div>
		    
			<div  data-role="content" >
            	<div id="error_lastFiveVisit" style="color:#F03;"></div>
                
                <select name="rpt_client_org_id" id="rpt_client_org_id" data-native-menu="false">
                	<option value="0" >Name Of the Org.</option>
                </select>
                
                </br>
        		<a id="btn_lastFiveVisit" data-role="button" onClick="getLastFiveVisit()" >Last 5 Visit</a>
				
                <!--<div id="loader" style="text-align:center;"><img src="running.gif"/></div>-->
                
                <div align="center"><img id="wait_lastFiveVisit" height="50px" width="50px" src="loading.gif"></div>
                
                <br/>
                <div id="report_data"></div>
                
                <br/>
                
                <br/>
                <br/>
	  		</div>
	</div>
    
    <!-- ============================ Reports ============================-->     
    	<div data-theme="c" data-role="page" id="report_page">
		    <div data-theme="c" data-role="header" data-position="fixed" >
			    <a  data-role="button" href="#menuPage" class="ui-btn-left ui-btn-icon-notext"><img height="15px;" src="gp_min_trans.png"></a>
                <a data-role="button" data-rel="back" data-icon="arrow-l" data-iconpos="left" class="ui-btn-right">Back</a>
                <h3>Reports</h3>
            </div>
		    
			<div  data-role="content" >
            	<div id="error_report_summary" style="color:#F03;"></div>
                
                <label style="background:#81C0C0"><input type="radio" name="RadioPeriodRpt"  value="Today" id="radio_1">Today</label>                                 
                <label style="background:#81C0C0"><input type="radio" name="RadioPeriodRpt"  value="Yesterday" id="radio_2">Yesterday</label>            
                <label style="background:#81C0C0"><input type="radio" name="RadioPeriodRpt"  value="ThisMonth" id="radio_3">This Month</label>                                               
                                
               	<div id="rpt_rep_div_id">
                    <select name="rpt_rep" id="rpt_rep_id" data-native-menu="false">
                        <option value="0" >Select KAM</option>
                    </select>                
                </div>
                
                </br>
                </br>      
        		
                <a id="btn_report_summary" data-role="button" onClick="getSummaryReport()" >Show Summary</a>				
                <div align="center"><img id="wait_report_summary" height="50px" width="50px" src="loading.gif"></div>
                
                </br>
                </br>
             
                <div id="report_visitdata"></div>
                
                <br/>
                <br/>
	  		</div>
	</div>
    
<!--  ================= Change Password =================  -->        
        <div data-theme="c" data-role="page" id="change_password"   >
            <div data-theme="c" data-role="header" data-position="fixed" >
			   <a  data-role="button" href="#menuPage" class="ui-btn-left ui-btn-icon-notext"><img height="15px;" src="gp_min_trans.png"></a>
                <a data-role="button" data-rel="back" data-icon="arrow-l" data-iconpos="left" class="ui-btn-right">Back</a>
               <h3>Change Pass</h3>
            </div>
			
			<div data-role="content">
            	<div id="error_change_password" style="color:#C00"></div>   
                
				<input type="password" name="old_password" id="old_password" placeholder="Old Password" value="">
				<input type="password" name="new_password" id="new_password" placeholder="New Password" value="">
                <input type="password" name="confirm_password" id="confirm_password" placeholder="Confirm Password" value="">
                
				</br>
				
                <div align="center"><img id="wait_change_password" height="50px" width="50px" src="loading.gif"></div>
                <a id="btn_change_password" data-role="button"  onClick="change_password()" >Submit</a>				
				
                <br><br><br><br><br><br><br><br><br><br><br><br>
                
                
            </div>
			
        </div><!--/login page-->
 <!-- ============================ SUCCESS MESSAGE============================-->     
    <div data-theme="c" data-role="page" id="change_password_success">
		    <div data-theme="c" data-role="header" data-position="fixed" >
			    <h3>Success</h3>
            </div>
		    
			<div  data-role="content" >
               	<div >Password Changed Successfully. Please Sync Again With New Password.</div>
                
                </br>
                </br>        		
				<a id="sub_button" data-role="button"  onClick="change_pass_clear_autho()" >Sync</a>
            
             <br/><br/><br/><br/><br/>
                
	  		</div>
	</div>
<script type="text/javascript" src="phonegap.js"></script>


 </body>
</html>